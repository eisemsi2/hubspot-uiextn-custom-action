(function(React2, react) {
  "use strict";
  function extend_V2(renderExtensionCallback) {
    return self.extend_V2(renderExtensionCallback);
  }
  function serverless(name, options) {
    return self.serverless(name, options);
  }
  function fetch(url, options) {
    return self.hsFetch(url, options);
  }
  const hubspot = {
    extend: extend_V2,
    serverless,
    fetch
  };
  react.createRemoteReactComponent("Alert");
  const Button = react.createRemoteReactComponent("Button", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("ButtonRow");
  react.createRemoteReactComponent("Card");
  react.createRemoteReactComponent("DescriptionList");
  react.createRemoteReactComponent("DescriptionListItem");
  react.createRemoteReactComponent("Divider");
  react.createRemoteReactComponent("EmptyState");
  react.createRemoteReactComponent("ErrorState");
  react.createRemoteReactComponent("Form");
  react.createRemoteReactComponent("Heading");
  react.createRemoteReactComponent("Image", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("Input");
  react.createRemoteReactComponent("Link", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("TextArea");
  react.createRemoteReactComponent("Textarea");
  react.createRemoteReactComponent("LoadingSpinner");
  react.createRemoteReactComponent("ProgressBar");
  react.createRemoteReactComponent("Select");
  react.createRemoteReactComponent("Tag", {
    fragmentProps: ["overlay"]
  });
  const Text = react.createRemoteReactComponent("Text");
  react.createRemoteReactComponent("Tile");
  react.createRemoteReactComponent("Stack");
  react.createRemoteReactComponent("ToggleGroup");
  react.createRemoteReactComponent("StatisticsItem");
  react.createRemoteReactComponent("Statistics");
  react.createRemoteReactComponent("StatisticsTrend");
  react.createRemoteReactComponent("Table");
  react.createRemoteReactComponent("TableFooter");
  react.createRemoteReactComponent("TableCell");
  react.createRemoteReactComponent("TableRow");
  react.createRemoteReactComponent("TableBody");
  react.createRemoteReactComponent("TableHeader");
  react.createRemoteReactComponent("TableHead");
  react.createRemoteReactComponent("NumberInput");
  const Box = react.createRemoteReactComponent("Box");
  react.createRemoteReactComponent("StepIndicator");
  react.createRemoteReactComponent("Accordion");
  react.createRemoteReactComponent("MultiSelect");
  const Flex = react.createRemoteReactComponent("Flex");
  react.createRemoteReactComponent("DateInput");
  const Checkbox = react.createRemoteReactComponent("Checkbox");
  react.createRemoteReactComponent("RadioButton");
  react.createRemoteReactComponent("List");
  react.createRemoteReactComponent("Toggle");
  react.createRemoteReactComponent("Dropdown");
  react.createRemoteReactComponent("Panel");
  react.createRemoteReactComponent("PanelFooter");
  react.createRemoteReactComponent("PanelBody");
  react.createRemoteReactComponent("PanelSection");
  react.createRemoteReactComponent("StepperInput");
  react.createRemoteReactComponent("Modal");
  react.createRemoteReactComponent("ModalBody");
  react.createRemoteReactComponent("ModalFooter");
  react.createRemoteReactComponent("Icon");
  react.createRemoteReactComponent("StatusTag");
  react.createRemoteReactComponent("LoadingButton", {
    fragmentProps: ["overlay"]
  });
  react.createRemoteReactComponent("BarChart");
  react.createRemoteReactComponent("LineChart");
  var ServerlessExecutionStatus;
  (function(ServerlessExecutionStatus2) {
    ServerlessExecutionStatus2["Success"] = "SUCCESS";
    ServerlessExecutionStatus2["Error"] = "ERROR";
  })(ServerlessExecutionStatus || (ServerlessExecutionStatus = {}));
  hubspot.extend(({ context, actions }) => /* @__PURE__ */ React2.createElement(CompanyAssociationCheckboxes, { context, actions }));
  function CompanyAssociationCheckboxes({ context, actions }) {
    var _a;
    const [companies, setCompanies] = React2.useState([]);
    const [selectedCompanies, setSelectedCompanies] = React2.useState([]);
    const [isLoading, setIsLoading] = React2.useState(true);
    const [isSaving, setIsSaving] = React2.useState(false);
    const contactId = (_a = context == null ? void 0 : context.crm) == null ? void 0 : _a.objectId;
    React2.useEffect(() => {
      console.log("contactId:", contactId);
      if (!contactId)
        actions.addAlert("No contact ID found in context");
      const fetchData = async () => {
        try {
          console.log("starting fetch");
          const companiesResponse = await hubspot.fetch("https://us-central1-hubspot-fetch.cloudfunctions.net/app/companies", {
            method: "GET"
            // headers: {
            //     Authorization: `Bearer ${data.accessToken}`,
            // },
          });
          const companiesData = await companiesResponse.json();
          console.log(companiesData);
          const associationsResponse = await hubspot.fetch(`https://us-central1-hubspot-fetch.cloudfunctions.net/app/associations/${contactId}`, {
            method: "GET"
            // headers: {
            //     Authorization: `Bearer ${data.accessToken}`,
            // },
          });
          if (!associationsResponse.ok)
            throw new Error("Failed to load associations");
          const associationsData = await associationsResponse.json();
          console.log(associationsData);
          setCompanies(companiesData.results);
          setSelectedCompanies(associationsData.map((a) => a.toObjectId));
        } catch (error) {
          console.error(error);
          actions.addAlert({ message: error.message, type: "danger" });
        } finally {
          setIsLoading(false);
        }
      };
      if (contactId)
        fetchData();
    }, [contactId, actions]);
    const handleCheckboxChange = (companyId) => {
      setSelectedCompanies(
        (prev) => prev.includes(companyId) ? prev.filter((id) => id !== companyId) : [...prev, companyId]
      );
    };
    const handleSave = async () => {
      setIsSaving(true);
      try {
        console.log("saving associations");
        const requestBody = {
          "contactId": contactId,
          "companyIds": selectedCompanies
        };
        console.log(requestBody);
        await hubspot.fetch(`https://us-central1-hubspot-fetch.cloudfunctions.net/app/save-associations`, {
          method: "POST",
          // headers: {
          //     // 'Content-Type': 'application/json',
          //     Authorization: `Bearer ${accessToken}`,
          // },
          body: requestBody
        });
        actions.addAlert({ message: "Associations saved successfully!", type: "SUCCESS" });
      } catch (error) {
        console.log(error);
        actions.addAlert({ message: "Failed to save associations", type: "ERROR" });
      } finally {
        setIsSaving(false);
      }
    };
    return /* @__PURE__ */ React2.createElement(Box, { padding: "medium", spacing: "small" }, /* @__PURE__ */ React2.createElement(Text, { variant: "heading3" }, "Associated Companies"), isLoading ? /* @__PURE__ */ React2.createElement(Text, null, "Loading companies...") : companies.length === 0 ? /* @__PURE__ */ React2.createElement(Text, null, "No companies available to associate.") : /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(Box, { maxHeight: "200px", overflowY: "auto" }, companies.map((company) => /* @__PURE__ */ React2.createElement(
      Box,
      {
        key: company.id,
        alignItems: "center",
        spacing: "small",
        padding: "small"
      },
      /* @__PURE__ */ React2.createElement(Flex, { direction: "row", gap: "md" }, /* @__PURE__ */ React2.createElement(
        Checkbox,
        {
          checked: selectedCompanies.includes(Number(company.id)),
          onChange: () => handleCheckboxChange(Number(company.id)),
          label: company.properties.name
        }
      ), company.properties.name)
    ))), /* @__PURE__ */ React2.createElement(
      Button,
      {
        onClick: handleSave,
        variant: "primary",
        disabled: isSaving
      },
      isSaving ? "Saving..." : "Save Associations"
    )));
  }
})(React, RemoteUI);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcGFueUFzc29jaWF0aW9uQ2hlY2tib3hlcy5qcyIsInNvdXJjZXMiOlsiLi4vZXh0ZW5zaW9ucy9ub2RlX21vZHVsZXMvQGh1YnNwb3QvdWktZXh0ZW5zaW9ucy9kaXN0L2h1YnNwb3QuanMiLCIuLi9leHRlbnNpb25zL25vZGVfbW9kdWxlcy9AaHVic3BvdC91aS1leHRlbnNpb25zL2Rpc3QvY29yZUNvbXBvbmVudHMuanMiLCIuLi9leHRlbnNpb25zL25vZGVfbW9kdWxlcy9AaHVic3BvdC91aS1leHRlbnNpb25zL2Rpc3QvdHlwZXMuanMiLCIuLi9leHRlbnNpb25zL0NvbXBhbnlBc3NvY2lhdGlvbkNoZWNrYm94ZXMuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBleHRlbmRfVjIocmVuZGVyRXh0ZW5zaW9uQ2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2VsZi5leHRlbmRfVjIocmVuZGVyRXh0ZW5zaW9uQ2FsbGJhY2spO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcnZlcmxlc3MobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZWxmLnNlcnZlcmxlc3MobmFtZSwgb3B0aW9ucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2godXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNlbGYuaHNGZXRjaCh1cmwsIG9wdGlvbnMpO1xufVxuZXhwb3J0IGNvbnN0IGh1YnNwb3QgPSB7XG4gICAgZXh0ZW5kOiBleHRlbmRfVjIsXG4gICAgc2VydmVybGVzcyxcbiAgICBmZXRjaCxcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCB9IGZyb20gJ0ByZW1vdGUtdWkvcmVhY3QnO1xuLyoqXG4gKiBUaGUgYEFsZXJ0YCBjb21wb25lbnQgcmVuZGVycyBhbiBhbGVydCB3aXRoaW4gYSBjYXJkLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZ2l2ZSB1c2FnZSBndWlkYW5jZSwgbm90aWZ5IHVzZXJzIG9mIGFjdGlvbiByZXN1bHRzLCBvciB3YXJuIHRoZW0gYWJvdXQgcG90ZW50aWFsIGlzc3VlcyBvciBmYWlsdXJlcy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9hbGVydCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9hcHAuaHVic3BvdC5jb20vZG9jcy80ODAwODkxNi9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2FsZXJ0I3ZhcmlhbnRzIFZhcmlhbnRzfVxuICovXG5leHBvcnQgY29uc3QgQWxlcnQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQWxlcnQnKTtcbi8qKlxuICogVGhlIGBCdXR0b25gIGNvbXBvbmVudCByZW5kZXJzIGEgc2luZ2xlIGJ1dHRvbi4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGVuYWJsZSB1c2VycyB0byBwZXJmb3JtIGFjdGlvbnMsIHN1Y2ggYXMgc3VibWl0dGluZyBhIGZvcm0sIHNlbmRpbmcgZGF0YSB0byBhbiBleHRlcm5hbCBzeXN0ZW0sIG9yIGRlbGV0aW5nIGRhdGEuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvYnV0dG9uIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2J1dHRvbiN1c2FnZS1leGFtcGxlcyBFeGFtcGxlc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2Rlc2lnbi1wYXR0ZXJucyNidXR0b24gRGVzaWduIFBhdHRlcm4gRXhhbXBsZXN9XG4gKi9cbmV4cG9ydCBjb25zdCBCdXR0b24gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnQnV0dG9uJywge1xuICAgIGZyYWdtZW50UHJvcHM6IFsnb3ZlcmxheSddLFxufSk7XG4vKipcbiAqIFRoZSBgQnV0dG9uUm93YCBjb21wb25lbnQgcmVuZGVycyBhIHJvdyBvZiBzcGVjaWZpZWQgYEJ1dHRvbmAgY29tcG9uZW50cy4gVXNlIHRoaXMgY29tcG9uZW50IHdoZW4geW91IHdhbnQgdG8gaW5jbHVkZSBtdWx0aXBsZSBidXR0b25zIGluIGEgcm93LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2J1dHRvbi1yb3cgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEJ1dHRvblJvdyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdCdXR0b25Sb3cnKTtcbmV4cG9ydCBjb25zdCBDYXJkID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0NhcmQnKTtcbi8qKlxuICogVGhlIGBEZXNjcmlwdGlvbkxpc3RgIGNvbXBvbmVudCByZW5kZXJzIHBhaXJzIG9mIGxhYmVscyBhbmQgdmFsdWVzLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBwYWlycyBvZiBsYWJlbHMgYW5kIHZhbHVlcyBpbiBhIHdheSB0aGF0J3MgZWFzeSB0byByZWFkIGF0IGEgZ2xhbmNlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Rlc2NyaXB0aW9uLWxpc3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uTGlzdCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdEZXNjcmlwdGlvbkxpc3QnKTtcbi8qKlxuICogVGhlIGBEZXNjcmlwdGlvbkxpc3RJdGVtYCBjb21wb25lbnQgcmVuZGVycyBhIHNpbmdsZSBzZXQgb2YgYSBsYWJlbCBhbmQgdmFsdWUuIFVzZSB0aGlzIGNvbXBvbmVudCB3aXRoaW4gYSBgRGVzY3JpcHRpb25MaXN0YCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZGVzY3JpcHRpb24tbGlzdCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgRGVzY3JpcHRpb25MaXN0SXRlbSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdEZXNjcmlwdGlvbkxpc3RJdGVtJyk7XG4vKipcbiAqIFRoZSBgRGl2aWRlcmAgY29tcG9uZW50IHJlbmRlcnMgYSBncmV5LCBob3Jpem9udGFsIGxpbmUgZm9yIHNwYWNpbmcgb3V0IGNvbXBvbmVudHMgdmVydGljYWxseSBvciBjcmVhdGluZyBzZWN0aW9ucyBpbiBhbiBleHRlbnNpb24uIFVzZSB0aGlzIGNvbXBvbmVudCB0byBzcGFjZSBvdXQgb3RoZXIgY29tcG9uZW50cyB3aGVuIHRoZSBjb250ZW50IG5lZWRzIG1vcmUgc2VwYXJhdGlvbiB0aGFuIHdoaXRlIHNwYWNlLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2RpdmlkZXIgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IERpdmlkZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGl2aWRlcicpO1xuLyoqXG4gKiBUaGUgYEVtcHR5U3RhdGVgIGNvbXBvbmVudCBzZXRzIHRoZSBjb250ZW50IHRoYXQgYXBwZWFycyB3aGVuIHRoZSBleHRlbnNpb24gaXMgaW4gYW4gZW1wdHkgc3RhdGUuIFVzZSB0aGlzIGNvbXBvbmVudCB3aGVuIHRoZXJlJ3Mgbm8gY29udGVudCBvciBkYXRhIHRvIGhlbHAgZ3VpZGUgdXNlcnMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZW1wdHktc3RhdGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IEVtcHR5U3RhdGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRW1wdHlTdGF0ZScpO1xuLyoqXG4gKiBUaGUgYEVycm9yU3RhdGVgIGNvbXBvbmVudCBzZXRzIHRoZSBjb250ZW50IG9mIGFuIGVycm9yaW5nIGV4dGVuc2lvbi4gVXNlIHRoaXMgY29tcG9uZW50IHRvIGd1aWRlIHVzZXJzIHRocm91Z2ggcmVzb2x2aW5nIGVycm9ycyB0aGF0IHlvdXIgZXh0ZW5zaW9uIG1pZ2h0IGVuY291bnRlci5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9lcnJvci1zdGF0ZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgRXJyb3JTdGF0ZSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdFcnJvclN0YXRlJyk7XG4vKipcbiAqIFRoZSBgRm9ybWAgY29tcG9uZW50IHJlbmRlcnMgYSBmb3JtIHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgc3ViY29tcG9uZW50cywgc3VjaCBhcyBgSW5wdXRgLCBgU2VsZWN0YCwgYW5kIGBCdXR0b25gLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZW5hYmxlIHVzZXJzIHRvIHN1Ym1pdCBkYXRhIHRvIEh1YlNwb3Qgb3IgYW4gZXh0ZXJuYWwgc3lzdGVtLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2Zvcm0gRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2Rlc2lnbi1wYXR0ZXJucyNmb3JtIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgRm9ybSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdGb3JtJyk7XG4vKipcbiAqIFRoZSBgSGVhZGluZ2AgY29tcG9uZW50IHJlbmRlcnMgbGFyZ2UgaGVhZGluZyB0ZXh0LiBVc2UgdGhpcyBjb21wb25lbnQgdG8gaW50cm9kdWNlIG9yIGRpZmZlcmVudGlhdGUgc2VjdGlvbnMgb2YgeW91ciBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvaGVhZGluZyBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSGVhZGluZyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdIZWFkaW5nJyk7XG4vKipcbiAqIFRoZSBgSW1hZ2VgIGNvbXBvbmVudCByZW5kZXJzIGFuIGltYWdlLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gYWRkIGEgbG9nbyBvciBvdGhlciB2aXN1YWwgYnJhbmQgaWRlbnRpdHkgYXNzZXQsIG9yIHRvIGFjY2VudHVhdGUgb3RoZXIgY29udGVudCBpbiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2ltYWdlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBJbWFnZSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdJbWFnZScsIHtcbiAgICBmcmFnbWVudFByb3BzOiBbJ292ZXJsYXknXSxcbn0pO1xuLyoqXG4gKiBUaGUgYElucHV0YCBjb21wb25lbnQgcmVuZGVycyBhIHRleHQgaW5wdXQgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBlbnRlciBhIGN1c3RvbSB0ZXh0IHZhbHVlLiBMaWtlIG90aGVyIGlucHV0cywgdGhpcyBjb21wb25lbnQgc2hvdWxkIGJlIHVzZWQgd2l0aGluIGEgYEZvcm1gIHRoYXQgaGFzIGEgc3VibWl0IGJ1dHRvbi5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9pbnB1dCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgSW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnSW5wdXQnKTtcbi8qKlxuICogVGhlIGBMaW5rYCBjb21wb25lbnQgcmVuZGVycyBhIGNsaWNrYWJsZSBoeXBlcmxpbmsuIFVzZSBsaW5rcyB0byBkaXJlY3QgdXNlcnMgdG8gYW4gZXh0ZXJuYWwgd2ViIHBhZ2Ugb3IgYW5vdGhlciBwYXJ0IG9mIHRoZSBIdWJTcG90IGFwcC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9saW5rIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMaW5rID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0xpbmsnLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBUZXh0QXJlYWAgY29tcG9uZW50IHJlbmRlcnMgYSBmaWxsYWJsZSB0ZXh0IGZpZWxkLiBMaWtlIG90aGVyIGlucHV0cywgdGhpcyBjb21wb25lbnQgc2hvdWxkIGJlIHVzZWQgd2l0aGluIGEgYEZvcm1gIHRoYXQgaGFzIGEgc3VibWl0IGJ1dHRvbi5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90ZXh0LWFyZWEgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRBcmVhID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RleHRBcmVhJyk7XG4vLyBUZXh0YXJlYSB3YXMgY2hhbmdlZCB0byBUZXh0QXJlYVxuLy8gRXhwb3J0aW5nIGJvdGggZm9yIGJhY2t3YXJkcyBjb21wYXRcbi8qKiBAZGVwcmVjYXRlZCB1c2UgVGV4dEFyZWEgaW5zdGVhZC4gV2l0aCBhIGNhcGl0YWwgQS4qL1xuZXhwb3J0IGNvbnN0IFRleHRhcmVhID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RleHRhcmVhJyk7XG4vKipcbiAqIFRoZSBgTG9hZGluZ1NwaW5uZXJgIGNvbXBvbmVudCByZW5kZXJzIGEgdmlzdWFsIGluZGljYXRvciBmb3Igd2hlbiBhbiBleHRlbnNpb24gaXMgbG9hZGluZyBvciBwcm9jZXNzaW5nIGRhdGEuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbG9hZGluZy1zcGlubmVyIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBMb2FkaW5nU3Bpbm5lciA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdMb2FkaW5nU3Bpbm5lcicpO1xuLyoqXG4gKiBUaGUgYFByb2dyZXNzQmFyYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBpbmRpY2F0b3Igc2hvd2luZyBhIG51bWVyaWMgYW5kL29yIHBlcmNlbnRhZ2UtYmFzZWQgcmVwcmVzZW50YXRpb24gb2YgcHJvZ3Jlc3MuIFRoZSBwZXJjZW50YWdlIGlzIGNhbGN1bGF0ZWQgYmFzZWQgb24gdGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUgc3BlY2lmaWVkIGluIHRoZSBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcHJvZ3Jlc3MtYmFyIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBQcm9ncmVzc0JhciA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQcm9ncmVzc0JhcicpO1xuLyoqXG4gKiBUaGUgYFNlbGVjdGAgY29tcG9uZW50IHJlbmRlcnMgYSBkcm9wZG93biBtZW51IHNlbGVjdCBmaWVsZCB3aGVyZSBhIHVzZXIgY2FuIHNlbGVjdCBhIHNpbmdsZSB2YWx1ZS4gQSBzZWFyY2ggYmFyIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbmNsdWRlZCB3aGVuIHRoZXJlIGFyZSBtb3JlIHRoYW4gc2V2ZW4gb3B0aW9ucy4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc2VsZWN0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBTZWxlY3QgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU2VsZWN0Jyk7XG4vKipcbiAqIFRoZSBgVGFnYCBjb21wb25lbnQgcmVuZGVycyBhIHRhZyB0byBsYWJlbCBvciBjYXRlZ29yaXplIGluZm9ybWF0aW9uIG9yIG90aGVyIGNvbXBvbmVudHMuIFRhZ3MgY2FuIGJlIHN0YXRpYyBvciBjbGlja2FibGUgZm9yIGludm9raW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWcgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhZyA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWcnLCB7XG4gICAgZnJhZ21lbnRQcm9wczogWydvdmVybGF5J10sXG59KTtcbi8qKlxuICogVGhlIGBUZXh0YCBjb21wb25lbnQgcmVuZGVycyB0ZXh0IHdpdGggZm9ybWF0dGluZyBvcHRpb25zLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RleHQgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRleHQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGV4dCcpO1xuLyoqXG4gKiBUaGUgYFRpbGVgIGNvbXBvbmVudCByZW5kZXJzIGEgc3F1YXJlIHRpbGUgdGhhdCBjYW4gY29udGFpbiBvdGhlciBjb21wb25lbnRzLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gY3JlYXRlIGdyb3VwcyBvZiByZWxhdGVkIGNvbXBvbmVudHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGlsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVGlsZSA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUaWxlJyk7XG4vKiogQGRlcHJlY2F0ZWQgdXNlIEZsZXggaW5zdGVhZC4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IHJlbGVhc2UuICovXG5leHBvcnQgY29uc3QgU3RhY2sgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RhY2snKTtcbi8qKlxuICogVGhlIGBUb2dnbGVHcm91cGAgY29tcG9uZW50IHJlbmRlcnMgYSBsaXN0IG9mIHNlbGVjdGFibGUgb3B0aW9ucywgZWl0aGVyIGluIHJhZGlvIGJ1dHRvbiBvciBjaGVja2JveCBmb3JtLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RvZ2dsZS1ncm91cCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVG9nZ2xlR3JvdXAgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVG9nZ2xlR3JvdXAnKTtcbi8qKlxuICogVGhlIGBTdGF0aXN0aWNzSXRlbWAgY29tcG9uZW50IHJlbmRlcnMgYSBzaW5nbGUgZGF0YSBwb2ludCB3aXRoaW4gYSBgU3RhdGlzdGljc2AgY29tcG9uZW50LiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSBhIHNpbmdsZSBkYXRhIHBvaW50LCBzdWNoIGFzIGEgbnVtYmVyIG9yIHBlcmNlbnRhZ2UuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc3RhdGlzdGljcyBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgU3RhdGlzdGljc0l0ZW0gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RhdGlzdGljc0l0ZW0nKTtcbi8qKlxuICogVGhlIGBTdGF0aXN0aWNzYCBjb21wb25lbnQgcmVuZGVycyBhIHZpc3VhbCBzcG90bGlnaHQgb2Ygb25lIG9yIG1vcmUgZGF0YSBwb2ludHMuIEluY2x1ZGVzIHRoZSBgU3RhdGlzdGljc0l0ZW1gIGFuZCBgU3RhdGlzdGljc1RyZW5kYCBzdWJjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXRpc3RpY3MgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXRpc3RpY3MgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RhdGlzdGljcycpO1xuLyoqXG4gKiBUaGUgYFN0YXRpc3RpY3NUcmVuZGAgY29tcG9uZW50IHJlbmRlcnMgYSBwZXJjZW50YWdlIHRyZW5kIHZhbHVlIGFuZCBkaXJlY3Rpb24gYWxvbnNpZGUgYSBgU3RhdGlzdGljc0l0ZW1gIGNvbXBvbmVudC4gVXNlIHRoaXMgY29tcG9uZW50IHdpdGhpbiB0aGUgYFN0YXRpc3RpY3NJdGVtYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc3RhdGlzdGljcyBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgU3RhdGlzdGljc1RyZW5kID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1N0YXRpc3RpY3NUcmVuZCcpO1xuLyoqXG4gKiBUaGUgYFRhYmxlYCBjb21wb25lbnQgcmVuZGVycyBhIHRhYmxlLiBUbyBmb3JtYXQgdGhlIHRhYmxlLCB1c2UgdGhlIHN1YmNvbXBvbmVudHMgYFRhYmxlSGVhZGAsIGBUYWJsZVJvd2AsIGBUYWJsZUhlYWRlcmAsIGBUYWJsZUJvZHlgLCBgVGFibGVDZWxsYGFuZCBgVGFibGVGb290ZXJgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3RhYmxlIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjdGFibGUgRGVzaWduIFBhdHRlcm4gRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlJyk7XG4vKipcbiAqIFRoZSBgVGFibGVGb290ZXJgIGNvbXBvbmVudCByZW5kZXJzIGEgZm9vdGVyIHdpdGhpbiBhIGBUYWJsZWAgY29tcG9uZW50LiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZGlzcGxheSB0b3RhbHMgb3Igb3RoZXIgc3VtbWFyeSBpbmZvcm1hdGlvbi5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVGFibGVGb290ZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFibGVGb290ZXInKTtcbi8qKlxuICogVGhlIGBUYWJsZUNlbGxgIGNvbXBvbmVudCByZW5kZXJzIGluZGl2aWR1YWwgY2VsbHMgd2l0aGluIHRoZSBgVGFibGVCb2R5YCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlQ2VsbCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdUYWJsZUNlbGwnKTtcbi8qKlxuICogVGhlIGBUYWJsZVJvd2AgY29tcG9uZW50IHJlbmRlcnMgYSByb3cgd2l0aGluIHRoZSBgVGFibGVCb2R5YCBvciBgVGFibGVIZWFkYCBjb21wb25lbnQuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdGFibGUgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlUm93ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlUm93Jyk7XG4vKipcbiAqIFRoZSBgVGFibGVCb2R5YCBjb21wb25lbnQgcmVuZGVycyB0aGUgYm9keSAocm93cyBhbmQgY2VsbHMpIG9mIGEgdGFibGUgd2l0aGluIHRoZSBgVGFibGVgIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVGFibGVCb2R5ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlQm9keScpO1xuLyoqXG4gKiBUaGUgYFRhYmxlSGVhZGVyYCBjb21wb25lbnQgcmVuZGVycyBpbmRpdmlkdWFsIGNlbGxzIGNvbnRhaW5pbmcgYm9sZGVkIGNvbHVtbiBsYWJlbHMsIHdpdGhpbiBgVGFibGVIZWFkYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVGFibGVIZWFkZXIgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVGFibGVIZWFkZXInKTtcbi8qKlxuICogVGhlIGBUYWJsZUhlYWRgIGNvbXBvbmVudCByZW5kZXJzIHRoZSBoZWFkZXIgc2VjdGlvbiBvZiB0aGUgYFRhYmxlYCBjb21wb25lbnQsIGNvbnRhaW5pbmcgY29sdW1uIGxhYmVscy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy90YWJsZSBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgVGFibGVIZWFkID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1RhYmxlSGVhZCcpO1xuLyoqXG4gKiBUaGUgYE51bWJlcklucHV0YCBjb21wb25lbnQgcmVuZGVycyBhIG51bWJlciBpbnB1dCBmaWVsZC4gTGlrZSBvdGhlciBpbnB1dHMsIHRoaXMgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhpbiBhIGBGb3JtYCB0aGF0IGhhcyBhIHN1Ym1pdCBidXR0b24uXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbnVtYmVyLWlucHV0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBOdW1iZXJJbnB1dCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdOdW1iZXJJbnB1dCcpO1xuLyoqXG4gKiBUaGUgYEJveGAgY29tcG9uZW50IHJlbmRlcnMgYW4gZW1wdHkgZGl2IGNvbnRhaW5lciBmb3IgZmluZSB0dW5pbmcgdGhlIHNwYWNpbmcgb2YgY29tcG9uZW50cy4gQ29tbW9ubHkgdXNlZCB3aXRoIHRoZSBgRmxleGAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2JveCBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZmxleC1hbmQtYm94IEZsZXggYW5kIEJveCBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgQm94ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0JveCcpO1xuLyoqXG4gKiBUaGUgYFN0ZXBJbmRpY2F0b3JgIGNvbXBvbmVudCByZW5kZXJzIGFuIGluZGljYXRvciB0byBzaG93IHRoZSBjdXJyZW50IHN0ZXAgb2YgYSBtdWx0aS1zdGVwIHByb2Nlc3MuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvc3RlcC1pbmRpY2F0b3IgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0ZXBJbmRpY2F0b3IgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RlcEluZGljYXRvcicpO1xuLyoqXG4gKiBUaGUgYEFjY29yZGlvbmAgY29tcG9uZW50IHJlbmRlcnMgYW4gZXhwYW5kYWJsZSBhbmQgY29sbGFwc2FibGUgc2VjdGlvbiB0aGF0IGNhbiBjb250YWluIG90aGVyIGNvbXBvbmVudHMuIFRoaXMgY29tcG9uZW50IGNhbiBiZSBoZWxwZnVsIGZvciBzYXZpbmcgc3BhY2UgYW5kIGJyZWFraW5nIHVwIGV4dGVuc2lvbiBjb250ZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2FjY29yZGlvbiBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgQWNjb3JkaW9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0FjY29yZGlvbicpO1xuLyoqXG4gKiBUaGUgTXVsdGlTZWxlY3QgY29tcG9uZW50IHJlbmRlcnMgYSBkcm9wZG93biBtZW51IHNlbGVjdCBmaWVsZCB3aGVyZSBhIHVzZXIgY2FuIHNlbGVjdCBtdWx0aXBsZSB2YWx1ZXMuIENvbW1vbmx5IHVzZWQgd2l0aGluIHRoZSBgRm9ybWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL211bHRpLXNlbGVjdCBEb2NzfVxuICovXG5leHBvcnQgY29uc3QgTXVsdGlTZWxlY3QgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTXVsdGlTZWxlY3QnKTtcbi8qKlxuICogVGhlIGBGbGV4YCBjb21wb25lbnQgcmVuZGVycyBhIGZsZXggY29udGFpbmVyIHRoYXQgY2FuIGNvbnRhaW4gb3RoZXIgY29tcG9uZW50cywgYW5kIGFycmFuZ2UgdGhlbSB3aXRoIHByb3BzLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gY3JlYXRlIGEgZmxleGlibGUgYW5kIHJlc3BvbnNpdmUgbGF5b3V0LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2ZsZXggRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL2ZsZXgtYW5kLWJveCBGbGV4IGFuZCBCb3ggRXhhbXBsZX1cbiAqL1xuZXhwb3J0IGNvbnN0IEZsZXggPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRmxleCcpO1xuLyoqXG4gKiBUaGUgYERhdGVJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYW4gaW5wdXQgZmllbGQgd2hlcmUgYSB1c2VyIGNhbiBzZWxlY3QgYSBkYXRlLiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9kYXRlLWlucHV0IERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBEYXRlSW5wdXQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnRGF0ZUlucHV0Jyk7XG4vKipcbiAqIFRoZSBgQ2hlY2tib3hgIGNvbXBvbmVudCByZW5kZXJzIGEgc2luZ2xlIGNoZWNrYm94IGlucHV0LiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC4gSWYgeW91IHdhbnQgdG8gZGlzcGxheSBtdWx0aXBsZSBjaGVja2JveGVzLCB5b3Ugc2hvdWxkIHVzZSBgVG9nZ2xlR3JvdXBgIGluc3RlYWQsIGFzIGl0IGNvbWVzIHdpdGggZXh0cmEgbG9naWMgZm9yIGhhbmRsaW5nIG11bHRpcGxlIGNoZWNrYm94ZXMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvY2hlY2tib3ggRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IENoZWNrYm94ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0NoZWNrYm94Jyk7XG4vKipcbiAqIFRoZSBgUmFkaW9CdXR0b25gIGNvbXBvbmVudCByZW5kZXJzIGEgc2luZ2xlIHJhZGlvIGlucHV0LiBDb21tb25seSB1c2VkIHdpdGhpbiB0aGUgYEZvcm1gIGNvbXBvbmVudC4gSWYgeW91IHdhbnQgdG8gZGlzcGxheSBtdWx0aXBsZSByYWRpbyBpbnB1dHMsIHlvdSBzaG91bGQgdXNlIGBUb2dnbGVHcm91cGAgaW5zdGVhZCwgYXMgaXQgY29tZXMgd2l0aCBleHRyYSBsb2dpYyBmb3IgaGFuZGxpbmcgbXVsdGlwbGUgaW5wdXRzLlxuICovXG5leHBvcnQgY29uc3QgUmFkaW9CdXR0b24gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnUmFkaW9CdXR0b24nKTtcbi8qKlxuICogVGhlIGBMaXN0YCBjb21wb25lbnQgcmVuZGVycyBhIGxpc3Qgb2YgaXRlbXMuIFVzZSB0aGlzIGNvbXBvbmVudCB0byBkaXNwbGF5IGEgbGlzdCBvZiBpdGVtcywgc3VjaCBhcyBhIGxpc3Qgb2YgY29udGFjdHMsIHRhc2tzLCBvciBvdGhlciBkYXRhLiBBIGxpc3QgY2FuIGJlIHN0eWxlZCBhcyBhIGJ1bGxldGVkIGxpc3Qgb3IgYSBudW1iZXJlZCBsaXN0LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL2xpc3QgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3QgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTGlzdCcpO1xuLyoqXG4gKiBUaGUgYFRvZ2dsZWAgY29tcG9uZW50IHJlbmRlcnMgYSBib29sZWFuIHRvZ2dsZSBzd2l0Y2ggdGhhdCBjYW4gYmUgY29uZmlndXJlZCB3aXRoIHNpemluZywgbGFiZWwgcG9zaXRpb24sIHJlYWQtb25seSwgYW5kIG1vcmUuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvdG9nZ2xlIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBUb2dnbGUgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnVG9nZ2xlJyk7XG4vKipcbiAqIFRoZSBgRHJvcGRvd25gIGNvbXBvbmVudCByZW5kZXJzIGEgZHJvcGRvd24gbWVudSB0aGF0IGNhbiBhcHBlYXIgYXMgYSBidXR0b24gb3IgaHlwZXJsaW5rLiBVc2UgdGhpcyBjb21wb25lbnQgdG8gZW5hYmxlIHVzZXJzIHRvIHNlbGVjdCBmcm9tIG11bHRpcGxlIG9wdGlvbnMgaW4gYSBjb21wYWN0IGxpc3QuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvZHJvcGRvd24gRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IERyb3Bkb3duID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0Ryb3Bkb3duJyk7XG4vKipcbiAqIFRoZSBQYW5lbCBjb21wb25lbnQgcmVuZGVycyBhIHBhbmVsIG92ZXJsYXkgb24gdGhlIHJpZ2h0IHNpZGUgb2YgdGhlIHBhZ2UgYW5kIGNvbnRhaW5zIG90aGVyIGNvbXBvbmVudHMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcGFuZWwgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL292ZXJsYXktZXhhbXBsZSBPdmVybGF5IEV4YW1wbGV9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9kZXNpZ24tcGF0dGVybnMjcGFuZWwgRGVzaWduIFBhdHRlcm4gRXhhbXBsZXN9XG4gKi9cbmV4cG9ydCBjb25zdCBQYW5lbCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbCcpO1xuLyoqXG4gKiBUaGUgYFBhbmVsRm9vdGVyYCBpcyBhIHN0aWNreSBmb290ZXIgY29tcG9uZW50IGRpc3BsYXllZCBhdCB0aGUgYm90dG9tIG9mIGEgYFBhbmVsYCBjb21wb25lbnQuIFVzZSB0aGlzIGNvbXBvbmVudCB0byBkaXNwbGF5IGFjdGlvbnMgb3Igb3RoZXIgY29udGVudCB0aGF0IHNob3VsZCBiZSB2aXNpYmxlIGF0IGFsbCB0aW1lcy4gSW5jbHVkZSBvbmx5IG9uZSBgUGFuZWxGb290ZXJgIGNvbXBvbmVudCBwZXIgYFBhbmVsYC5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9wYW5lbC1mb290ZXIgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL292ZXJsYXktZXhhbXBsZSBPdmVybGF5IEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBQYW5lbEZvb3RlciA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdQYW5lbEZvb3RlcicpO1xuLyoqXG4gKiBUaGUgYFBhbmVsQm9keWAgY29tcG9uZW50IGlzIGEgY29udGFpbmVyIHRoYXQgd3JhcHMgdGhlIHBhbmVsJ3MgY29udGVudCBhbmQgbWFrZXMgaXQgc2Nyb2xsYWJsZS4gSW5jbHVkZSBvbmx5IG9uZSBgUGFuZWxCb2R5YCBjb21wb25lbnQgcGVyIGBQYW5lbGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcGFuZWwtZm9vdGVyIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWxCb2R5ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1BhbmVsQm9keScpO1xuLyoqXG4gKiBUaGUgYFBhbmVsU2VjdGlvbmAgY29tcG9uZW50IGlzIGEgY29udGFpbmVyIHRoYXQgYWRkcyBwYWRkaW5nIGFuZCBib3R0b20gbWFyZ2luIHRvIHByb3ZpZGUgc3BhY2luZyBiZXR3ZWVuIGNvbnRlbnQuIFVzZSB0aGUgYFBhbmVsU2VjdGlvbmAgY29tcG9uZW50IHRvIHNlcGFyYXRlIGNvbnRlbnQgd2l0aGluIGEgYFBhbmVsQm9keWAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvcGFuZWwtZm9vdGVyIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgUGFuZWxTZWN0aW9uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ1BhbmVsU2VjdGlvbicpO1xuLyoqXG4gKiBUaGUgYFN0ZXBwZXJJbnB1dGAgY29tcG9uZW50IHJlbmRlcnMgYSBudW1iZXIgaW5wdXQgZmllbGQgdGhhdCBjYW4gYmUgaW5jcmVhc2VkIG9yIGRlY3JlYXNlZCBieSBhIHNldCBudW1iZXIuIENvbW1vbmx5IHVzZWQgd2l0aGluIHRoZSBgRm9ybWAgY29tcG9uZW50LlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0ZXBwZXItaW5wdXQgRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IFN0ZXBwZXJJbnB1dCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdTdGVwcGVySW5wdXQnKTtcbi8qKlxuICogVGhlIE1vZGFsIGNvbXBvbmVudCByZW5kZXJzIGEgcG9wLXVwIG92ZXJsYXkgdGhhdCBjYW4gY29udGFpbiBvdGhlciBjb21wb25lbnRzLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL21vZGFsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vZGVzaWduLXBhdHRlcm5zI21vZGFsIERlc2lnbiBQYXR0ZXJuIEV4YW1wbGVzfVxuICovXG5leHBvcnQgY29uc3QgTW9kYWwgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTW9kYWwnKTtcbi8qKlxuICogVGhlIGBNb2RhbEJvZHlgIGNvbXBvbmVudCBjb250YWlucyB0aGUgbWFpbiBjb250ZW50IG9mIHRoZSBtb2RhbC4gT25lIGBNb2RhbEJvZHlgIGlzIHJlcXVpcmVkIHBlciBgTW9kYWxgLlxuICpcbiAqICoqTGlua3M6KipcbiAqXG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL21vZGFsIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vSHViU3BvdC91aS1leHRlbnNpb25zLWV4YW1wbGVzL3RyZWUvbWFpbi9vdmVybGF5LWV4YW1wbGUgT3ZlcmxheSBFeGFtcGxlfVxuICovXG5leHBvcnQgY29uc3QgTW9kYWxCb2R5ID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ01vZGFsQm9keScpO1xuLyoqXG4gKiBUaGUgYE1vZGFsRm9vdGVyYCBjb21wb25lbnQgaXMgYW4gb3B0aW9uYWwgY29tcG9uZW50IHRvIGZvcm1hdCB0aGUgZm9vdGVyIHNlY3Rpb24gb2YgdGhlIG1vZGFsLiBVc2Ugb25lIGBNb2RhbEZvb3RlcmAgcGVyIGBNb2RhbGAuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbW9kYWwgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9IdWJTcG90L3VpLWV4dGVuc2lvbnMtZXhhbXBsZXMvdHJlZS9tYWluL292ZXJsYXktZXhhbXBsZSBPdmVybGF5IEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBNb2RhbEZvb3RlciA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdNb2RhbEZvb3RlcicpO1xuLyoqXG4gKiBVc2UgdGhlIGBJY29uYCBjb21wb25lbnQgdG8gcmVuZGVyIGEgdmlzdWFsIGljb24gd2l0aGluIG90aGVyIGNvbXBvbmVudHMuIEl0IGNhbiBnZW5lcmFsbHkgYmUgdXNlZCBpbnNpZGUgbW9zdCBjb21wb25lbnRzLCBleGNsdWRpbmcgb25lcyB0aGF0IGRvbid0IHN1cHBvcnQgY2hpbGQgY29tcG9uZW50cy5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9pY29uIERvY3N9XG4gKi9cbmV4cG9ydCBjb25zdCBJY29uID0gY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQoJ0ljb24nKTtcbi8qKlxuICogVGhlIGBTdGF0dXNUYWdgIGNvbXBvbmVudCByZW5kZXJzIGEgdmlzdWFsIGluZGljYXRvciB0byBkaXNwbGF5IHRoZSBjdXJyZW50IHN0YXR1cyBvZiBhbiBpdGVtLiBTdGF0dXMgdGFncyBjYW4gYmUgc3RhdGljIG9yIGNsaWNrYWJsZS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9zdGF0dXMtdGFnIERvY3N9XG4gKiAtIHtAbGluayBodHRwczovL2RldmVsb3BlcnMuaHVic3BvdC5jb20vZG9jcy9yZWZlcmVuY2UvdWktY29tcG9uZW50cy9zdGFuZGFyZC1jb21wb25lbnRzL3N0YXR1cy10YWcjdmFyaWFudHMgVmFyaWFudHN9XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0dXNUYWcgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnU3RhdHVzVGFnJyk7XG4vKipcbiAqIFRoZSBgTG9hZGluZ0J1dHRvbmAgY29tcG9uZW50IHJlbmRlcnMgYSBidXR0b24gd2l0aCBsb2FkaW5nIHN0YXRlIG9wdGlvbnMuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbG9hZGluZy1idXR0b24gRG9jc31cbiAqL1xuZXhwb3J0IGNvbnN0IExvYWRpbmdCdXR0b24gPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTG9hZGluZ0J1dHRvbicsIHtcbiAgICBmcmFnbWVudFByb3BzOiBbJ292ZXJsYXknXSxcbn0pO1xuLyoqXG4gKiBUaGUgYEJhckNoYXJ0YCBjb21wb25lbnQgcmVuZGVycyBhIGJhciBjaGFydCBmb3IgdmlzdWFsaXppbmcgZGF0YS4gVGhpcyB0eXBlIG9mIGNoYXJ0IGlzIGJlc3Qgc3VpdGVkIGZvciBjb21wYXJpbmcgY2F0ZWdvcmljYWwgZGF0YS5cbiAqXG4gKiAqKkxpbmtzOioqXG4gKlxuICogLSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmh1YnNwb3QuY29tL2RvY3MvcmVmZXJlbmNlL3VpLWNvbXBvbmVudHMvc3RhbmRhcmQtY29tcG9uZW50cy9iYXItY2hhcnQgQmFyQ2hhcnQgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvY2hhcnRzIENoYXJ0cyBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vY2hhcnRzLWV4YW1wbGUgQ2hhcnRzIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBCYXJDaGFydCA9IGNyZWF0ZVJlbW90ZVJlYWN0Q29tcG9uZW50KCdCYXJDaGFydCcpO1xuLyoqXG4gKiBUaGUgYExpbmVDaGFydGAgY29tcG9uZW50IHJlbmRlcnMgYSBsaW5lIGNoYXJ0IGZvciB2aXN1YWxpemluZyBkYXRhLiBUaGlzIHR5cGUgb2YgY2hhcnQgaXMgYmVzdCBzdWl0ZWQgZm9yIHRpbWUgc2VyaWVzIHBsb3RzIG9yIHRyZW5kIGRhdGEuXG4gKlxuICogKipMaW5rczoqKlxuICpcbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvbGluZS1jaGFydCBMaW5lQ2hhcnQgRG9jc31cbiAqIC0ge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5odWJzcG90LmNvbS9kb2NzL3JlZmVyZW5jZS91aS1jb21wb25lbnRzL3N0YW5kYXJkLWNvbXBvbmVudHMvY2hhcnRzIENoYXJ0cyBEb2NzfVxuICogLSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL0h1YlNwb3QvdWktZXh0ZW5zaW9ucy1leGFtcGxlcy90cmVlL21haW4vY2hhcnRzLWV4YW1wbGUgQ2hhcnRzIEV4YW1wbGV9XG4gKi9cbmV4cG9ydCBjb25zdCBMaW5lQ2hhcnQgPSBjcmVhdGVSZW1vdGVSZWFjdENvbXBvbmVudCgnTGluZUNoYXJ0Jyk7XG4iLCJleHBvcnQgY2xhc3MgRXh0ZW5zaW9uRXZlbnQge1xuICAgIHR5cGU7XG4gICAgYnViYmxlcztcbiAgICB0aW1lU3RhbXA7XG4gICAgaWQ7XG4gICAgY29uc3RydWN0b3IoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5idWJibGVzID0gZXZlbnQuYnViYmxlcztcbiAgICAgICAgdGhpcy50eXBlID0gZXZlbnQudHlwZTtcbiAgICAgICAgdGhpcy50aW1lU3RhbXAgPSBldmVudC50aW1lU3RhbXA7XG4gICAgICAgIHRoaXMuaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGb3JtU3VibWl0RXh0ZW5zaW9uRXZlbnQgZXh0ZW5kcyBFeHRlbnNpb25FdmVudCB7XG4gICAgdGFyZ2V0VmFsdWU7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIGV2ZW50KSB7XG4gICAgICAgIHN1cGVyKGV2ZW50KTtcbiAgICAgICAgdGhpcy50YXJnZXRWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjaGFydEZpZWxkVHlwZXMgPSB7XG4gICAgZGF0ZXRpbWU6ICdkYXRldGltZScsXG4gICAgbGluZWFyOiAnbGluZWFyJyxcbiAgICBjYXRlZ29yeTogJ2NhdGVnb3J5Jyxcbn07XG5leHBvcnQgY29uc3QgaWNvbk5hbWVzID0ge1xuICAgIHN1Y2Nlc3M6ICdzdWNjZXNzJyxcbiAgICByZW1vdmU6ICdyZW1vdmUnLFxuICAgIGFkZDogJ2FkZCcsXG4gICAgYXR0YWNoOiAnYXR0YWNoJyxcbiAgICBkYXRlOiAnZGF0ZScsXG4gICAgY29weTogJ2R1cGxpY2F0ZScsXG4gICAgZGVsZXRlOiAnZGVsZXRlJyxcbiAgICBlZGl0OiAnZWRpdCcsXG4gICAgZW1haWw6ICdlbWFpbCcsXG4gICAgZXhjbGFtYXRpb246ICdleGNsYW1hdGlvbicsXG4gICAgcXVlc3Rpb246ICdxdWVzdGlvbicsXG4gICAgaG9tZTogJ2hvbWUnLFxuICAgIGxvY2F0aW9uOiAnbG9jYXRpb24nLFxuICAgIHVwQ2FyYXQ6ICd1cENhcmF0JyxcbiAgICBkb3duQ2FyYXQ6ICdkb3duQ2FyYXQnLFxuICAgIHdhcm5pbmc6ICd3YXJuaW5nJyxcbiAgICBzaG9wcGluZ0NhcnQ6ICdjYXJ0JyxcbiAgICBjbG9jazogJ3RpbWUnLFxuICAgIGNvbW1lbnQ6ICdjb21tZW50cycsXG4gICAgY29udGFjdDogJ2NvbnRhY3RzJyxcbiAgICBzdGFyOiAnZmF2b3JpdGUnLFxuICAgIGZpbGU6ICdmaWxlJyxcbiAgICByZXBvcnRzOiAncmVwb3J0cycsXG4gICAgdmlkZW86ICd2aWRlbycsXG4gICAgcm9ib3Q6ICdzaW1wbGVCb3QnLFxuICAgIHJlZnJlc2g6ICdyZWZyZXNoJyxcbiAgICBmYWNlSGFwcHk6ICdlbW9qaScsXG4gICAgZmFjZU5ldXRyYWw6ICdlbW9qaUxpbmVOZXV0cmFsJyxcbiAgICBmYWNlU2FkOiAnZW1vamlMaW5lU2FkJyxcbiAgICB1cGxvYWQ6ICd1cGxvYWQnLFxuICAgIGRvd25sb2FkOiAnZG93bmxvYWQnLFxuICAgIGxlZnQ6ICdsZWZ0JyxcbiAgICByaWdodDogJ3JpZ2h0JyxcbiAgICBkYXRhU3luYzogJ2RhdGFTeW5jJyxcbiAgICBpbWFnZUdhbGxlcnk6ICdpbWFnZUdhbGxlcnknLFxuICAgIHNlYXJjaDogJ3NlYXJjaCcsXG4gICAgc2F2ZTogJ3NhdmVFZGl0YWJsZVZpZXcnLFxuICAgIG5vdGlmaWNhdGlvbjogJ25vdGlmaWNhdGlvbicsXG4gICAgYnVsYjogJ2J1bGInLFxuICAgIHNldHRpbmdzOiAnc2V0dGluZ3MnLFxufTtcbi8qKlxuICogQGNhdGVnb3J5IFNlcnZlcmxlc3NcbiAqL1xuZXhwb3J0IHZhciBTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzO1xuKGZ1bmN0aW9uIChTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzKSB7XG4gICAgU2VydmVybGVzc0V4ZWN1dGlvblN0YXR1c1tcIlN1Y2Nlc3NcIl0gPSBcIlNVQ0NFU1NcIjtcbiAgICBTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzW1wiRXJyb3JcIl0gPSBcIkVSUk9SXCI7XG59KShTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzIHx8IChTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzID0ge30pKTtcbmV4cG9ydCBjb25zdCBFWFRFTlNJT05fUE9JTlRfTE9DQVRJT05TID0gW1xuICAgICdjcm0ucHJldmlldycsXG4gICAgJ2NybS5yZWNvcmQuc2lkZWJhcicsXG4gICAgJ2NybS5yZWNvcmQudGFiJyxcbiAgICAnaGVscGRlc2suc2lkZWJhcicsXG4gICAgJ3VpZS5wbGF5Z3JvdW5kLm1pZGRsZScsXG4gICAgJ3NldHRpbmdzJyxcbl07XG4vKiogQGRlcHJlY2F0ZWQgdXNlIEV4dGVuc2lvbkV2ZW50L0Zvcm1TdWJtaXRFeHRlbnNpb25FdmVudCBpbnN0ZWFkICovXG5leHBvcnQgY2xhc3MgUmVtb3RlRXZlbnQge1xuICAgIHR5cGU7XG4gICAgYnViYmxlcztcbiAgICB0aW1lU3RhbXA7XG4gICAgdGFyZ2V0VmFsdWU7XG4gICAgY29uc3RydWN0b3IodmFsdWUsIGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYnViYmxlcyA9IGV2ZW50LmJ1YmJsZXM7XG4gICAgICAgIHRoaXMudHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgIHRoaXMudGltZVN0YW1wID0gZXZlbnQudGltZVN0YW1wO1xuICAgICAgICB0aGlzLnRhcmdldFZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBodWJzcG90LCBUZXh0LCBCb3gsIEJ1dHRvbiwgQ2hlY2tib3gsIEZsZXggfSBmcm9tICdAaHVic3BvdC91aS1leHRlbnNpb25zJztcblxuaHVic3BvdC5leHRlbmQoKHsgY29udGV4dCwgYWN0aW9ucyB9KSA9PiAoXG4gICAgPENvbXBhbnlBc3NvY2lhdGlvbkNoZWNrYm94ZXMgY29udGV4dD17Y29udGV4dH0gYWN0aW9ucz17YWN0aW9uc30gLz5cbikpO1xuXG5mdW5jdGlvbiBDb21wYW55QXNzb2NpYXRpb25DaGVja2JveGVzKHsgY29udGV4dCwgYWN0aW9ucyB9KSB7XG4gICAgY29uc3QgW2NvbXBhbmllcywgc2V0Q29tcGFuaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRDb21wYW5pZXMsIHNldFNlbGVjdGVkQ29tcGFuaWVzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gICAgY29uc3QgW2lzU2F2aW5nLCBzZXRJc1NhdmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgLy8gY29uc3QgW2FjY2Vzc1Rva2VuLCBzZXRBY2Nlc3NUb2tlbl0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgICBjb25zdCBjb250YWN0SWQgPSBjb250ZXh0Py5jcm0/Lm9iamVjdElkO1xuICAgIC8vIGNvbnNvbGUubG9nKCdjb250ZXh0OicsIGNvbnRleHQpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjb250YWN0SWQ6JywgY29udGFjdElkKTtcbiAgICAgICAgaWYgKCFjb250YWN0SWQpIGFjdGlvbnMuYWRkQWxlcnQoJ05vIGNvbnRhY3QgSUQgZm91bmQgaW4gY29udGV4dCcpO1xuICAgICAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnZXR0aW5nIGFjY2VzcyB0b2tlbicpO1xuICAgICAgICAgICAgICAgIC8vIGxldCBkYXRhID0gYXdhaXQgaHVic3BvdC5mZXRjaCgnaHR0cHM6Ly91cy1jZW50cmFsMS1odWJzcG90LWZldGNoLmNsb3VkZnVuY3Rpb25zLm5ldC9hcHAvZ2V0LWFjY2Vzcy10b2tlbicsIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbWV0aG9kOiAnR0VUJywgIFxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgPSBhd2FpdCBkYXRhLmpzb24oKTtcbiAgICAgICAgICAgICAgICAvLyBpZiAoIWRhdGEuYWNjZXNzVG9rZW4pIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBhY2Nlc3MgdG9rZW4nKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWNjZXNzVG9rZW4nLCBkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3RhcnRpbmcgZmV0Y2gnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wYW5pZXNSZXNwb25zZSA9IGF3YWl0IGh1YnNwb3QuZmV0Y2goJ2h0dHBzOi8vdXMtY2VudHJhbDEtaHVic3BvdC1mZXRjaC5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBwL2NvbXBhbmllcycsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2RhdGEuYWNjZXNzVG9rZW59YCxcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb21wYW5pZXNSZXNwb25zZSk7IFxuICAgICAgICAgICAgICAgIC8vIGlmICghY29tcGFuaWVzUmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgY29tcGFuaWVzJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcGFuaWVzRGF0YSA9IGF3YWl0IGNvbXBhbmllc1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb21wYW5pZXNEYXRhKTtcbiAgICAgICAgICAgICAgICAvLyBzZXRBY2Nlc3NUb2tlbihkYXRhLmFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhc3NvY2lhdGlvbnNSZXNwb25zZSA9IGF3YWl0IGh1YnNwb3QuZmV0Y2goYGh0dHBzOi8vdXMtY2VudHJhbDEtaHVic3BvdC1mZXRjaC5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBwL2Fzc29jaWF0aW9ucy8ke2NvbnRhY3RJZH1gLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtkYXRhLmFjY2Vzc1Rva2VufWAsXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFhc3NvY2lhdGlvbnNSZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBhc3NvY2lhdGlvbnMnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhc3NvY2lhdGlvbnNEYXRhID0gYXdhaXQgYXNzb2NpYXRpb25zUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFzc29jaWF0aW9uc0RhdGEpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGNvbXBhbmllc0RhdGEucmVzdWx0c1swXS5uYW1lKTtcbiAgICAgICAgICAgICAgICBzZXRDb21wYW5pZXMoY29tcGFuaWVzRGF0YS5yZXN1bHRzKTtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENvbXBhbmllcyhhc3NvY2lhdGlvbnNEYXRhLm1hcChhID0+IGEudG9PYmplY3RJZCkpOyAvLyBBZGp1c3RlZCB0byB1c2UgY29ycmVjdCBjb21wYW55IElEIHByb3BlcnR5XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgeyBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLmFkZEFsZXJ0KHsgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgdHlwZTogJ2RhbmdlcicgfSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGNvbnRhY3RJZCkgZmV0Y2hEYXRhKCk7XG4gICAgfSwgW2NvbnRhY3RJZCwgYWN0aW9uc10pO1xuXG4gICAgY29uc3QgaGFuZGxlQ2hlY2tib3hDaGFuZ2UgPSAoY29tcGFueUlkKSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGVkQ29tcGFuaWVzKHByZXYgPT4gXG4gICAgICAgICAgICBwcmV2LmluY2x1ZGVzKGNvbXBhbnlJZCkgXG4gICAgICAgICAgICAgICAgPyBwcmV2LmZpbHRlcihpZCA9PiBpZCAhPT0gY29tcGFueUlkKSBcbiAgICAgICAgICAgICAgICA6IFsuLi5wcmV2LCBjb21wYW55SWRdXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIGNvbnN0IGhhbmRsZVNhdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHNldElzU2F2aW5nKHRydWUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhdmluZyBhc3NvY2lhdGlvbnMnKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFjY2Vzc1Rva2VuKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNlbGVjdGVkQ29tcGFuaWVzKTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICAgICAgICAgIFwiY29udGFjdElkXCI6IGNvbnRhY3RJZCxcbiAgICAgICAgICAgICAgICBcImNvbXBhbnlJZHNcIjogc2VsZWN0ZWRDb21wYW5pZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdEJvZHkpO1xuICAgICAgICAgICAgYXdhaXQgaHVic3BvdC5mZXRjaChgaHR0cHM6Ly91cy1jZW50cmFsMS1odWJzcG90LWZldGNoLmNsb3VkZnVuY3Rpb25zLm5ldC9hcHAvc2F2ZS1hc3NvY2lhdGlvbnNgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgLy8gaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC8vICAgICAvLyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgIC8vICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcbiAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IHJlcXVlc3RCb2R5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhY3Rpb25zLmFkZEFsZXJ0KHsgbWVzc2FnZTogJ0Fzc29jaWF0aW9ucyBzYXZlZCBzdWNjZXNzZnVsbHkhJywgdHlwZTogJ1NVQ0NFU1MnIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgYWN0aW9ucy5hZGRBbGVydCh7IG1lc3NhZ2U6ICdGYWlsZWQgdG8gc2F2ZSBhc3NvY2lhdGlvbnMnLCB0eXBlOiAnRVJST1InIH0pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTYXZpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxCb3ggcGFkZGluZz1cIm1lZGl1bVwiIHNwYWNpbmc9XCJzbWFsbFwiPlxuICAgICAgICAgICAgPFRleHQgdmFyaWFudD1cImhlYWRpbmczXCI+QXNzb2NpYXRlZCBDb21wYW5pZXM8L1RleHQ+XG4gICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgIDxUZXh0PkxvYWRpbmcgY29tcGFuaWVzLi4uPC9UZXh0PlxuICAgICAgICAgICAgKSA6IGNvbXBhbmllcy5sZW5ndGggPT09IDAgPyAoXG4gICAgICAgICAgICAgICAgPFRleHQ+Tm8gY29tcGFuaWVzIGF2YWlsYWJsZSB0byBhc3NvY2lhdGUuPC9UZXh0PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8Qm94IG1heEhlaWdodD1cIjIwMHB4XCIgb3ZlcmZsb3dZPVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBhbmllcy5tYXAoY29tcGFueSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y29tcGFueS5pZH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nPVwic21hbGxcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc9XCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGbGV4IGRpcmVjdGlvbj17J3Jvdyd9IGdhcD17J21kJ30gPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17c2VsZWN0ZWRDb21wYW5pZXMuaW5jbHVkZXMoTnVtYmVyKGNvbXBhbnkuaWQpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gaGFuZGxlQ2hlY2tib3hDaGFuZ2UoTnVtYmVyKGNvbXBhbnkuaWQpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Y29tcGFueS5wcm9wZXJ0aWVzLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wYW55LnByb3BlcnRpZXMubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9GbGV4PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInByaW1hcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2F2aW5nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNTYXZpbmcgPyAnU2F2aW5nLi4uJyA6ICdTYXZlIEFzc29jaWF0aW9ucyd9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgPC9Cb3g+XG4gICAgKTtcbn0iXSwibmFtZXMiOlsiY3JlYXRlUmVtb3RlUmVhY3RDb21wb25lbnQiLCJTZXJ2ZXJsZXNzRXhlY3V0aW9uU3RhdHVzIiwiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCJdLCJtYXBwaW5ncyI6Ijs7QUFBTyxXQUFTLFVBQVUseUJBQXlCO0FBQy9DLFdBQU8sS0FBSyxVQUFVLHVCQUF1QjtBQUFBLEVBQ2pEO0FBQ08sV0FBUyxXQUFXLE1BQU0sU0FBUztBQUN0QyxXQUFPLEtBQUssV0FBVyxNQUFNLE9BQU87QUFBQSxFQUN4QztBQUNPLFdBQVMsTUFBTSxLQUFLLFNBQVM7QUFDaEMsV0FBTyxLQUFLLFFBQVEsS0FBSyxPQUFPO0FBQUEsRUFDcEM7QUFDTyxRQUFNLFVBQVU7QUFBQSxJQUNuQixRQUFRO0FBQUEsSUFDUjtBQUFBLElBQ0E7QUFBQSxFQUNKO0FDSitDLFFBQUEsMkJBQUMsT0FBTztBQVVoRCxRQUFNLFNBQVNBLE1BQTBCLDJCQUFDLFVBQVU7QUFBQSxJQUN2RCxlQUFlLENBQUMsU0FBUztBQUFBLEVBQzdCLENBQUM7QUFRa0QsUUFBQSwyQkFBQyxXQUFXO0FBQ2pCLFFBQUEsMkJBQUMsTUFBTTtBQVFJLFFBQUEsMkJBQUMsaUJBQWlCO0FBUWQsUUFBQSwyQkFBQyxxQkFBcUI7QUFRbEMsUUFBQSwyQkFBQyxT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
